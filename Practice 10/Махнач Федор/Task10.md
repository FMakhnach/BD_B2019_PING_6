## Задание 10

### Задача 1

Отношение (A, B, C, D, E, G) имеет следующие функциональные зависимости:

* AB → C
* C → A
* BC → D
* ACD → B
* D → EG
* BE → C
* CG → BD
* CE → AG

Постройте закрытие атрибута (Attribute Closure) (BD)+

### <ins> Решение </ins>

1. B, D принадлежат (BD+): [B, D]
2. D → EG => E, G принадлежат (BD+): [B, D, E, G]
3. BE → C => С принадлежит (BD+): [B, C, D, E, G]
4. C → A => A принадлежит (BD+): [A, B, C, D, E, G]

Больше в отношении элементов нет, значит {B, D} является суперключом.

(BD+) = {A, B, C, D, E, G},

### Задача 2

Посмотрите на отношения: Order (ProductNo, ProductName, CustomerNo, CustomerName, OrderDate, UnitPrice, Quantity,
SubTotal, Tax, Total)

Ставка налога зависит от товара (например, 20 % для книг или 30 % для предметов роскоши). В день допускается только один
заказ на продукт и клиента (несколько заказов объединяются).

А) Определить нетривиальные функциональные зависимости в отношении

Предполагаю, что ProductNo однозначно задаёт товар, CustomerNo однозначно задаёт клиента. Тогда:

1. ProductNo -> Tax
2. { ProductNo, CustomerNo, OrderDate } -> { ProductName, CustomerName, UnitPrice, Quantity, SubTotal, Total }
3. ProductNo -> ProductName
4. CustomerNo -> CustomerName
5. { UnitPrice, Quantity } -> SubTotal (предположительно)
6. { SubTotal, Tax } -> Total (предположительно)

Б) Каковы ключи-кандидаты?

Только { ProductNo, CustomerNo, OrderDate }

### Задача 3

Рассмотрим соотношение R(A, B, C, D) со следующими функциональными зависимостями:
F = { A → D, AB → C, AC → B}

* А) *Каковы все ключи-кандидаты?
    * { A, B }
    * { A, C }
* Б) Преобразуйте R в 3NF, используя алгоритм синтеза.

1. Базис: F = { A → D, AB → C, AC → B}
2. Для каждой зависимости создаём отдельное отношение: { A, D }, { A, B, C }, { A, C, B }
3. Создаём отдельные отношения из всех ключей: { A, B }, { A, C }
4. Удаляем отношения, являющиеся подмножествами других отношений (удаляем { A, B }, { A, C }, { A, C, B })

Результат: отношения { A, D } и { A, B, C }